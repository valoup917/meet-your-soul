{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{app}from\"./FirebaseConfig\";import{signOut,getAuth,onAuthStateChanged}from'firebase/auth';import{useNavigate}from'react-router-dom';import{getFirestore}from'firebase/firestore';import singer from\"../assets/instruments/singer.jpg\";import drums from\"../assets/instruments/drums.jpg\";import guitar from\"../assets/instruments/guitar.jpg\";import bass from\"../assets/instruments/bass.jpg\";import piano from\"../assets/instruments/piano.jpg\";import{getAllMusicians}from\"./musicians\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[allMusiciens,setAllMusiciens]=useState([]);const[userUid,setUserUid]=useState([]);const database=getAuth(app);const history=useNavigate();const handleClick=()=>{signOut(database).then(val=>{history('/');});};function invite(uid,e){e.preventDefault();console.log(\"invite \"+uid);}const instruments={1:drums,2:guitar,3:bass,4:piano,5:singer};const niveaux={1:\"expert\",2:\"intermediaire\",3:\"débutant\"};useEffect(()=>{const auth=getAuth();async function fetchData(){const data=await getAllMusicians();console.log(data);setAllMusiciens(data);}onAuthStateChanged(auth,async user=>{if(user){const username=user.displayName;console.log('Username de l\\'utilisateur connecté:',username);console.log('UserUid de l\\'utilisateur connecté:',user.uid);setUserUid(user.uid);}else{console.log('Utilisateur déconnecté');}});fetchData();},[]);const styleArray=[{backgroundColor:'#a1a1a1'},{backgroundColor:'#d0d0d0'},{backgroundColor:'#e8e8e8'}];return/*#__PURE__*/_jsxs(\"div\",{class:\"bg-gray-200/50\",children:[/*#__PURE__*/_jsxs(\"section\",{class:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"text-center pb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"text-base font-bold text-indigo-600\",children:\"Trouve tes futurs partenaire de soul\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"font-bold text-3xl md:text-4xl lg:text-5xl font-heading text-gray-900\",children:\"Construis le groupe de tes r\\xEAves\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"flex flex-col space-y-8\",children:allMusiciens===null||allMusiciens===void 0?void 0:allMusiciens.map(data=>data.id==userUid?null:/*#__PURE__*/_jsxs(\"div\",{class:\"w-full bg-white rounded-lg p-10 flex flex-col justify-center items-center\",style:styleArray[data.niveau-1],children:[/*#__PURE__*/_jsx(\"div\",{class:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{class:\"object-center object-cover rounded-full h-48 w-48\",src:instruments[data.instrument],alt:\"photo\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"text-2xl text-gray-700 font-bold mb-2\",children:data.username}),/*#__PURE__*/_jsx(\"p\",{class:\"text-xl text-gray-500 mb-6\",children:niveaux[data.niveau]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>invite(data.id,e),className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-16 rounded ease-in-out duration-300\",children:\"Inviter\"})})]}))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded mb-8\",children:\"D\\xE9connexion\"})})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","app","signOut","getAuth","onAuthStateChanged","useNavigate","getFirestore","singer","drums","guitar","bass","piano","getAllMusicians","jsx","_jsx","jsxs","_jsxs","Home","allMusiciens","setAllMusiciens","userUid","setUserUid","database","history","handleClick","then","val","invite","uid","e","preventDefault","console","log","instruments","niveaux","auth","fetchData","data","user","username","displayName","styleArray","backgroundColor","class","children","map","id","style","niveau","src","instrument","alt","className","onClick"],"sources":["/Users/valoup/tek/tek4/Progressive_Web_Apps/meet-your-soul/src/registration/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { app } from \"./FirebaseConfig\";\nimport { signOut, getAuth, onAuthStateChanged } from 'firebase/auth'\nimport { useNavigate } from 'react-router-dom'\nimport { getFirestore } from 'firebase/firestore';\nimport singer from \"../assets/instruments/singer.jpg\"\nimport drums from \"../assets/instruments/drums.jpg\"\nimport guitar from \"../assets/instruments/guitar.jpg\"\nimport bass from \"../assets/instruments/bass.jpg\"\nimport piano from \"../assets/instruments/piano.jpg\"\nimport { getAllMusicians } from \"./musicians\";\n\nfunction Home(){\n    const [allMusiciens, setAllMusiciens] = useState([]);\n    const [userUid, setUserUid] = useState([]);\n\n    const database = getAuth(app);\n    const history = useNavigate()\n\n    const handleClick = () => {\n        signOut(database).then(val => {\n            history('/')\n        })\n    }\n\n    function invite(uid, e) {\n        e.preventDefault();\n        console.log(\"invite \" + uid)\n    }\n\n    const instruments = {\n        1: drums,\n        2: guitar,\n        3: bass,\n        4: piano,\n        5: singer,\n    };\n\n    const niveaux = {\n        1: \"expert\",\n        2: \"intermediaire\",\n        3: \"débutant\"\n    };\n    \n\n    useEffect(() => {\n        const auth = getAuth();\n\n\n        async function fetchData() {\n            const data = await getAllMusicians();\n            console.log(data)\n            setAllMusiciens(data);\n        }\n        \n\n        onAuthStateChanged(auth, async (user) => {\n            if (user) {\n                const username = user.displayName;\n                console.log('Username de l\\'utilisateur connecté:', username);\n                console.log('UserUid de l\\'utilisateur connecté:', user.uid);\n                setUserUid(user.uid);\n            } else {\n                console.log('Utilisateur déconnecté');\n            }\n        });\n\n        fetchData(); \n    }, []);\n\n    const styleArray = [\n        { backgroundColor: '#a1a1a1' },\n        { backgroundColor: '#d0d0d0' },\n        { backgroundColor: '#e8e8e8' },\n    ]\n\n    return (\n        <div class=\"bg-gray-200/50\">\n            <section class=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-12\">\n                <div class=\"text-center pb-12\">\n                    <h2 class=\"text-base font-bold text-indigo-600\">\n                        Trouve tes futurs partenaire de soul\n                    </h2>\n                    <h1 class=\"font-bold text-3xl md:text-4xl lg:text-5xl font-heading text-gray-900\">\n                        Construis le groupe de tes rêves\n                    </h1>\n                </div>\n                <div class=\"flex flex-col space-y-8\">\n\n                    {\n                        allMusiciens?.map((data) => (\n                            data.id == userUid ?\n                            null :\n                            <div class=\"w-full bg-white rounded-lg p-10 flex flex-col justify-center items-center\" style={styleArray[data.niveau - 1]}>\n                                <div class=\"mb-6\">\n                                    <img class=\"object-center object-cover rounded-full h-48 w-48\" src={instruments[data.instrument]} alt=\"photo\" />\n                                </div>\n                                <div class=\"text-center\">\n                                    <p class=\"text-2xl text-gray-700 font-bold mb-2\">{data.username}</p>\n                                    <p class=\"text-xl text-gray-500 mb-6\">{niveaux[data.niveau]}</p>\n                                </div>\n                                <div className=\"flex items-center justify-center\">\n                                    <button onClick={(e) => invite(data.id, e)} className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-16 rounded ease-in-out duration-300\">\n                                        Inviter\n                                    </button>\n                                </div>\n                            </div>\n                        ))\n                    }\n\n                </div>\n            </section>\n            <div className=\"flex items-center justify-center\">\n                <button onClick={handleClick} className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded mb-8\">\n                Déconnexion\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"const CACHE_NAME='my-cache-v1';const urlsToCache=[\"index.html\"];this.addEventListener(\"install\",event=>{event.waitUntil(caches.open(CACHE_NAME).then(cache=>{console.log(\"Opend Cache\");return cache.addAll(urlsToCache);}));});this.addEventListener('fetch',event=>{event.respondWith(caches.match(event.request).then(response=>{// Si la réponse est présente dans le cache, la renvoyer\nif(response){return response;}// Sinon, effectuer la requête, mettre en cache la réponse, puis la renvoyer\nreturn fetch(event.request).then(newResponse=>{// Ouvrir le cache\nreturn caches.open(CACHE_NAME).then(cache=>{// Mettre en cache la réponse\ncache.put(event.request,newResponse.clone());return newResponse;});});}));});this.addEventListener(\"activate\",event=>{const cacheWhiteList=[];cacheWhiteList.push(CACHE_NAME);event.waitUntil(caches.keys().then(cacheNames=>Promise.all(cacheNames.map(cacheName=>{if(!cacheWhiteList.includes(cacheName)){return caches.delete(cacheName);}}))));});","map":{"version":3,"names":["CACHE_NAME","urlsToCache","addEventListener","event","waitUntil","caches","open","then","cache","console","log","addAll","respondWith","match","request","response","fetch","newResponse","put","clone","cacheWhiteList","push","keys","cacheNames","Promise","all","map","cacheName","includes","delete"],"sources":["/Users/valoup/tek/tek4/Progressive_Web_Apps/meet-your-soul/src/service-worker.js"],"sourcesContent":["const CACHE_NAME = 'my-cache-v1';\nconst urlsToCache = [\"index.html\"]\n\nthis.addEventListener(\"install\", (event) => {\n  event.waitUntil(\n    caches.open(CACHE_NAME).then((cache) => {\n      console.log(\"Opend Cache\");\n      return cache.addAll(urlsToCache);\n    })\n  )\n})\n\n\nthis.addEventListener('fetch', (event) => {\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      // Si la réponse est présente dans le cache, la renvoyer\n      if (response) {\n        return response;\n      }\n      // Sinon, effectuer la requête, mettre en cache la réponse, puis la renvoyer\n      return fetch(event.request).then((newResponse) => {\n        // Ouvrir le cache\n        return caches.open(CACHE_NAME).then((cache) => {\n          // Mettre en cache la réponse\n          cache.put(event.request, newResponse.clone());\n          return newResponse;\n        });\n      });\n    })\n  );\n});\n\nthis.addEventListener(\"activate\", (event) => {\n  const cacheWhiteList = [];\n  cacheWhiteList.push(CACHE_NAME);\n  event.waitUntil(caches.keys().then((cacheNames) => Promise.all(\n    cacheNames.map((cacheName) => {\n      if (!cacheWhiteList.includes(cacheName)) {\n        return caches.delete(cacheName);\n      }\n    })\n  )))\n})"],"mappings":"AAAA,KAAM,CAAAA,UAAU,CAAG,aAAa,CAChC,KAAM,CAAAC,WAAW,CAAG,CAAC,YAAY,CAAC,CAElC,IAAI,CAACC,gBAAgB,CAAC,SAAS,CAAGC,KAAK,EAAK,CAC1CA,KAAK,CAACC,SAAS,CACbC,MAAM,CAACC,IAAI,CAACN,UAAU,CAAC,CAACO,IAAI,CAAEC,KAAK,EAAK,CACtCC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC1B,MAAO,CAAAF,KAAK,CAACG,MAAM,CAACV,WAAW,CAAC,CAClC,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CAGF,IAAI,CAACC,gBAAgB,CAAC,OAAO,CAAGC,KAAK,EAAK,CACxCA,KAAK,CAACS,WAAW,CACfP,MAAM,CAACQ,KAAK,CAACV,KAAK,CAACW,OAAO,CAAC,CAACP,IAAI,CAAEQ,QAAQ,EAAK,CAC7C;AACA,GAAIA,QAAQ,CAAE,CACZ,MAAO,CAAAA,QAAQ,CACjB,CACA;AACA,MAAO,CAAAC,KAAK,CAACb,KAAK,CAACW,OAAO,CAAC,CAACP,IAAI,CAAEU,WAAW,EAAK,CAChD;AACA,MAAO,CAAAZ,MAAM,CAACC,IAAI,CAACN,UAAU,CAAC,CAACO,IAAI,CAAEC,KAAK,EAAK,CAC7C;AACAA,KAAK,CAACU,GAAG,CAACf,KAAK,CAACW,OAAO,CAAEG,WAAW,CAACE,KAAK,CAAC,CAAC,CAAC,CAC7C,MAAO,CAAAF,WAAW,CACpB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CAEF,IAAI,CAACf,gBAAgB,CAAC,UAAU,CAAGC,KAAK,EAAK,CAC3C,KAAM,CAAAiB,cAAc,CAAG,EAAE,CACzBA,cAAc,CAACC,IAAI,CAACrB,UAAU,CAAC,CAC/BG,KAAK,CAACC,SAAS,CAACC,MAAM,CAACiB,IAAI,CAAC,CAAC,CAACf,IAAI,CAAEgB,UAAU,EAAKC,OAAO,CAACC,GAAG,CAC5DF,UAAU,CAACG,GAAG,CAAEC,SAAS,EAAK,CAC5B,GAAI,CAACP,cAAc,CAACQ,QAAQ,CAACD,SAAS,CAAC,CAAE,CACvC,MAAO,CAAAtB,MAAM,CAACwB,MAAM,CAACF,SAAS,CAAC,CACjC,CACF,CAAC,CACH,CAAC,CAAC,CAAC,CACL,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}